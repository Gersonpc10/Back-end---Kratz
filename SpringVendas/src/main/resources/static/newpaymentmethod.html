<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adicionar Método de Pagamento</title>
    <!-- Adicione os links para os estilos do Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body class="container mt-5">
    <h2>Adicionar Método de Pagamento</h2>

    <!-- Formulário para adicionar um novo método de pagamento -->
    <form id="newPaymentMethodForm">
        <div class="form-group">
            <label for="description">Descrição:</label>
            <input type="text" class="form-control" id="description" required>
        </div>

        <!-- Botão para adicionar o método de pagamento -->
        <button type="button" class="btn btn-primary" onclick="addPaymentMethod()">Adicionar Método de Pagamento</button>
    </form>

    <!-- Links para index.html e paymentmethod.html -->
    <div class="mt-3">
        <a href="index.html" class="btn btn-secondary">Voltar para o Menu</a>
        <a href="paymentmethod.html" class="btn btn-secondary">Visualizar Métodos de Pagamento</a>
    </div>

    <!-- Adicione os scripts do Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Adicione scripts personalizados, se necessário -->
    <script>
        // Função para adicionar o método de pagamento
        function addPaymentMethod() {
            // Obtenha o valor do campo de descrição
            var description = $("#description").val();

            // Crie um objeto JavaScript com os dados do método de pagamento
            var paymentMethodData = {
                description: description
            };

            // Faça uma chamada AJAX para adicionar o método de pagamento no servidor
            // Atualize a URL conforme a rota correta do seu servidor
            $.ajax({
                type: "POST",
                contentType: "application/json",
                url: "/api/payment-methods",
                data: JSON.stringify(paymentMethodData),
                success: function () {
                    // Limpe o formulário após o sucesso, se necessário
                    document.getElementById("newPaymentMethodForm").reset();
                    alert("Método de pagamento adicionado com sucesso!");
                },
                error: function () {
                    console.error("Erro ao adicionar o método de pagamento. Por favor, tente novamente.");
                }
            });
        }
    </script>
</body>

</html>
